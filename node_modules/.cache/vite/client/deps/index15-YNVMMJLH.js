import {
  PrimaryWebPageId,
  organizationResolver
} from "./chunk-CD5O3SWS.js";
import "./chunk-3DTVR3OD.js";
import "./chunk-UB4YNOCX.js";
import "./chunk-YKYDJGGC.js";
import {
  placeResolver
} from "./chunk-DDV23LRR.js";
import "./chunk-NE6DWWPC.js";
import {
  monetaryAmountResolver
} from "./chunk-F22XZUEQ.js";
import {
  IdentityId,
  defineSchemaOrgResolver,
  idReference,
  resolvableDateToIso,
  resolveRelation,
  setIfEmpty
} from "./chunk-2KIJOMNU.js";

// node_modules/@unhead/schema-org/dist/chunks/index15.mjs
import "unhead/plugins";
import "unhead/utils";
import "ufo";
var jobPostingResolver = defineSchemaOrgResolver({
  defaults: {
    "@type": "JobPosting"
  },
  idPrefix: ["url", "#job-posting"],
  resolve(node, ctx) {
    node.datePosted = resolvableDateToIso(node.datePosted);
    node.hiringOrganization = resolveRelation(node.hiringOrganization, ctx, organizationResolver);
    node.jobLocation = resolveRelation(node.jobLocation, ctx, placeResolver);
    node.baseSalary = resolveRelation(node.baseSalary, ctx, monetaryAmountResolver);
    node.validThrough = resolvableDateToIso(node.validThrough);
    return node;
  },
  resolveRootNode(jobPosting, { find }) {
    const webPage = find(PrimaryWebPageId);
    const identity = find(IdentityId);
    if (identity)
      setIfEmpty(jobPosting, "hiringOrganization", idReference(identity));
    if (webPage)
      setIfEmpty(jobPosting, "mainEntityOfPage", idReference(webPage));
    return jobPosting;
  }
});
export {
  jobPostingResolver
};
//# sourceMappingURL=index15-YNVMMJLH.js.map

import {
  reviewResolver
} from "./chunk-XYXROCGS.js";
import "./chunk-ZCHAITMH.js";
import {
  PrimaryWebPageId
} from "./chunk-CD5O3SWS.js";
import "./chunk-3DTVR3OD.js";
import "./chunk-UB4YNOCX.js";
import "./chunk-YKYDJGGC.js";
import "./chunk-NE6DWWPC.js";
import {
  aggregateOfferResolver
} from "./chunk-J7WUGLA2.js";
import {
  offerResolver
} from "./chunk-D4HW3F7C.js";
import "./chunk-F22XZUEQ.js";
import {
  aggregateRatingResolver
} from "./chunk-BOTBQKTO.js";
import {
  IdentityId,
  defineSchemaOrgResolver,
  idReference,
  resolveRelation,
  setIfEmpty
} from "./chunk-2KIJOMNU.js";

// node_modules/@unhead/schema-org/dist/chunks/index29.mjs
import "unhead/plugins";
import "unhead/utils";
import "ufo";
var ProductId = "#product";
var productResolver = defineSchemaOrgResolver({
  defaults: {
    "@type": "Product"
  },
  inheritMeta: [
    "description",
    "image",
    { meta: "title", key: "name" }
  ],
  idPrefix: ["url", ProductId],
  resolve(node, ctx) {
    node.aggregateOffer = resolveRelation(node.aggregateOffer, ctx, aggregateOfferResolver);
    node.aggregateRating = resolveRelation(node.aggregateRating, ctx, aggregateRatingResolver);
    node.offers = resolveRelation(node.offers, ctx, offerResolver);
    node.review = resolveRelation(node.review, ctx, reviewResolver);
    return node;
  },
  resolveRootNode(product, { find }) {
    const webPage = find(PrimaryWebPageId);
    const identity = find(IdentityId);
    if (identity)
      setIfEmpty(product, "brand", idReference(identity));
    if (webPage)
      setIfEmpty(product, "mainEntityOfPage", idReference(webPage));
    return product;
  }
});
export {
  ProductId,
  productResolver
};
//# sourceMappingURL=index29-WS4SZZXC.js.map
